{
  "mcpServers": {
    "syntax": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/syntax/src/server.ts"],
      "agentPreferences": {
        "description": "Edits that never fail. Find functions by name, not text matching.",
        "when": "Any code read/edit/refactor operation",
        "avoidWhen": "Simple text changes in non-code files",
        "firstAction": "list_symbols({ file_path }) - know what's there before editing",
        "toolGroups": {
          "read": { "tools": ["list_symbols", "read_symbol"] },
          "edit": { "tools": ["edit_symbol", "edit_lines", "apply_edits", "batch_edit_symbols"] },
          "imports": { "tools": ["get_imports", "get_exports", "add_import", "remove_unused_imports", "organize_imports"] },
          "refactor": { "tools": ["rename_symbol", "move_file", "move_symbol", "extract_function", "inline_function"] },
          "analyze": { "tools": ["search_symbols", "find_references", "get_callers", "get_callees", "analyze_deps", "find_unused_exports", "trace", "find_paths", "find_dead_code"] }
        },
        "tips": [
          "edit_symbol finds by AST, not text - never fails on duplicate code",
          "batch_edit_symbols for multi-file changes - validates ALL before applying ANY",
          "Always dry_run=true first for rename/move operations",
          "After refactoring: remove_unused_imports then organize_imports"
        ]
      }
    },
    "types": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/types/src/server.ts"],
      "agentPreferences": {
        "description": "Fast type checking for single files. Never hangs, always answers in <5s.",
        "when": "After editing a TypeScript file, need type info",
        "avoidWhen": "Non-TypeScript files, project-wide checks (use tsc --noEmit instead)",
        "firstAction": "check_file({ file }) - verify your edit didn't break types",
        "toolGroups": {
          "verify": { "tools": ["check_file"] },
          "understand": { "tools": ["get_type", "go_to_definition"] },
          "fix": { "tools": ["get_quick_fixes"] }
        },
        "tips": [
          "check_file after EVERY edit - fast single-file check (<2s)",
          "For project-wide checks use `tsc --noEmit` via task_runner instead",
          "get_type = hover info (what's the type here?)",
          "All operations timeout after 5s - never hangs"
        ]
      }
    },
    "test-runner": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/test-runner/src/server.ts"],
      "agentPreferences": {
        "description": "Know exactly what failed, where, and why. No output parsing.",
        "when": "After code changes, before committing",
        "avoidWhen": "Projects without test framework",
        "firstAction": "run_tests() - structured pass/fail results",
        "toolGroups": {
          "run": { "tools": ["run_tests", "rerun_failed", "run_related_tests"] },
          "discover": { "tools": ["list_test_files", "find_tests_for"] },
          "analyze": { "tools": ["get_test_failures"] }
        },
        "tips": [
          "run_tests gives structured results - never parse npm test output",
          "find_tests_for BEFORE editing - know what tests cover your code",
          "run_related_tests AFTER editing - fast verification without running all tests",
          "get_test_failures shows expected vs actual with source-mapped traces",
          "rerun_failed for fast iteration when fixing tests"
        ]
      }
    },
    "task-runner": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/task-runner/src/server.ts"],
      "agentPreferences": {
        "description": "Builds that don't die after 2 minutes. Tasks survive restarts.",
        "when": "Any npm/build command, dev servers, long-running processes",
        "avoidWhen": "Quick commands like ls, cat, echo",
        "firstAction": "task_run({ command }) - waits for completion, no timeout limit",
        "toolGroups": {
          "execute": { "tools": ["task_run", "task_start"] },
          "monitor": { "tools": ["task_get", "task_list", "task_kill"] }
        },
        "tips": [
          "task_run waits up to 30s, then returns ID - task keeps running",
          "task_start with wait_for pattern for dev servers",
          "task_list shows tasks from previous sessions (SQLite persisted)"
        ]
      }
    },
    "history": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/history/src/server.ts"],
      "agentPreferences": {
        "description": "Git data you can use, not parse. Understand why code exists.",
        "when": "Understanding code history, making commits, comparing branches",
        "avoidWhen": "Non-git directories",
        "firstAction": "Depends: blame_file (understand), git_status (commit), branch_diff (PR)",
        "toolGroups": {
          "understand": { "tools": ["blame_file", "file_history", "commit_info"] },
          "compare": { "tools": ["diff_file", "branch_diff", "changed_symbols"] },
          "search": { "tools": ["recent_changes", "search_commits"] },
          "commit": { "tools": ["git_status", "git_add", "git_commit"] }
        },
        "tips": [
          "blame_file shows intent behind each line - who wrote it and why",
          "changed_symbols = semantic diff (what functions changed)",
          "branch_diff before creating PR to see full scope"
        ]
      }
    },
    "project": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/project/src/server.ts"],
      "agentPreferences": {
        "description": "Know any codebase in 10 seconds. Scripts, tech stack, structure.",
        "when": "Session start, new codebase, need to find commands",
        "avoidWhen": "Already oriented in the project",
        "firstAction": "get_session_guide() - learn which MCP tools to use",
        "toolGroups": {
          "start": { "tools": ["get_session_guide", "get_quickstart"] },
          "explore": { "tools": ["get_structure", "get_tech_stack"] },
          "info": { "tools": ["get_project_info", "get_scripts"] }
        },
        "tips": [
          "get_session_guide FIRST at session start - explains all tools",
          "get_quickstart for install/build/test/run commands",
          "get_structure shows directory layout with descriptions"
        ]
      }
    },
    "insight": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/insight/src/server.ts"],
      "agentPreferences": {
        "description": "Understand code in one call. Structure, relationships, history - all at once.",
        "when": "Starting work on unfamiliar code, understanding impact before changes",
        "avoidWhen": "Already know the code well, simple targeted edits",
        "firstAction": "insight({ target: 'path/or/SymbolName' }) - comprehensive understanding",
        "toolGroups": {
          "understand": { "tools": ["insight"] },
          "improve": { "tools": ["suggest_refactoring"] }
        },
        "tips": [
          "One call replaces: list_symbols + get_imports + get_exports + git_log + get_callers",
          "Works on files, directories, or symbol names",
          "suggest_refactoring BEFORE major changes - find tech debt and improvement opportunities",
          "Everything computed fresh - never stale"
        ]
      }
    },
    "preview": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/preview/src/server.ts"],
      "agentPreferences": {
        "description": "See what breaks BEFORE you edit. Type errors, affected callers, required tests.",
        "when": "Before making risky changes, refactoring critical code",
        "avoidWhen": "Simple edits where impact is obvious",
        "firstAction": "preview_edit({ file_path, symbol_name, new_code }) - see consequences first",
        "toolGroups": {
          "preview": { "tools": ["preview_edit"] }
        },
        "tips": [
          "preview_edit shows type errors, callers, and tests BEFORE you commit to changes",
          "Use for refactoring - know what breaks without actually breaking it",
          "Combines type checking + caller analysis + test discovery in one call"
        ]
      }
    },
    "board": {
      "command": "npx",
      "args": ["-y", "tsx", "--watch", "packages/board/src/server.ts"],
      "agentPreferences": {
        "description": "Task board for agents. Track work, manage cards across lists.",
        "when": "Managing complex tasks, tracking progress, organizing work",
        "avoidWhen": "Simple single-step tasks, non-persistent work",
        "firstAction": "board_list() - see current board state",
        "toolGroups": {
          "view": { "tools": ["board_list", "board_get"] },
          "manage": { "tools": ["board_add", "board_update", "board_move", "board_delete"] }
        },
        "tips": [
          "All output is JSON - structured for agent consumption, not human-readable",
          "Default lists: backlog, todo, in_progress, blocked, done",
          "Cards have priority: low, medium, high, critical",
          "board_move is shorthand for board_update with just list change",
          "Data persists in .board/board.json"
        ]
      }
    }
  }
}
